# LongTextAgent 配置文件

# LLM 配置
generator_llm:
  # 提供商: moonshot
  provider: moonshot
  api_key: "sk-mkZS1LNZGtmeJR45vXxFmNQo1oz3yEfJ8cy1h5dIcHfyqbcn"
  model: moonshot-v1-8k
  temperature: 0.7
  max_tokens: 4096

evaluator_llm:
  # 提供商: deepseek
  provider: deepseek
  api_key: "sk-f1a4a5d4cec04819a0981ffbe613b029"
  model: deepseek-chat
  temperature: 0.7
  max_tokens: 4096

# 生成参数
generation:
  # 每个子任务的目标字数
  words_per_section: 2500
  # 最小/最大字数容差
  min_words_tolerance: 0.8   # 2000字
  max_words_tolerance: 1.2   # 3000字
  # 摘要最大长度（字）
  summary_max_words: 300

# 上下文管理
context:
  # 保留最近多少章的摘要
  recent_summaries_count: 5
  # 上下文最大 Token 数
  max_context_tokens: 8000

# 一致性检查
consistency:
  # 是否启用
  enabled: true
  # 检查项目
  check_character_names: true
  check_timeline: true
  check_settings: true

# 质量评估 (LLM-as-a-Judge)
evaluation:
  # 目标及格分数
  target_pass_score: 81
  # 质量未达标时的最大重试次数
  max_retries: 3

# 输出配置
output:
  # 输出目录
  directory: ./output
  # 文件名格式
  filename_format: "{title}_{timestamp}.md"
  # 是否保存中间结果
  save_intermediate: true
