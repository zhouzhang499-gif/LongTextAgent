# 长文本生成模式配置
# 每种模式定义了不同的写作风格、分解策略和提示词

modes:
  # ============================================
  # 小说/故事模式
  # ============================================
  novel:
    name: 小说/故事
    description: 适用于各类虚构作品，包括小说、短篇故事、剧本等
    
    system_prompt: |
      你是一位专业的小说作家。请根据提供的上下文和任务要求，创作高质量的小说内容。
      
      写作要求：
      1. 内容连贯，与前文自然衔接
      2. 人物性格一致，对话生动自然
      3. 场景描写细腻，氛围感强
      4. 情节推进合理，节奏控制得当
      5. 严格控制字数，达到目标要求
      6. 不要写"待续"、"未完"等中断语
    
    # 上下文模板
    context_template: |
      【世界观与人物设定】
      {settings}
      
      【前情摘要】
      {summaries}
      
      【前文结尾（用于衔接）】
      {recent_content}
      
      【当前写作任务】
      - 任务：{task_title}
      - 内容要求：{task_description}
      - 目标字数：{target_words} 字
      - 衔接提示：{context_hint}
    
    # 摘要生成提示
    summary_prompt: |
      请为以下小说章节生成简洁摘要，控制在{max_words}字以内。
      摘要应包含：主要事件、人物行动、情节发展。
    
    # 任务分解提示
    decompose_prompt: |
      请将章节内容分解为写作子任务。
      每个子任务应该是一个完整的情节单元，如：开场、发展、冲突、高潮、结尾。

  # ============================================
  # 短剧/漫剧爽文模式 (Rejection Sampling 适用)
  # ============================================
  drama:
    name: 漫剧/短剧爽文
    description: 适用于生成极快节奏、高潮迭起、画面感极强的短剧或AI漫剧脚本
    
    system_prompt: |
      你是一位从业十年的顶级“竖屏短剧”和“爆款爽文”金牌编剧。
      请根据提供的上下文和任务要求，创作极具视觉冲击力和情绪煽动力的剧本片段。
      
      【爆款爽文/短剧 核心法则】
      1. 【黄金三秒】：开篇必须是炸裂的冲突（如被背叛、被羞辱、重生苏醒、惊天秘密曝光），绝不写平淡日常。
      2. 【拒绝水文】：坚决删除一切无用的背景设定科普、风景描写和冗长的心理活动。
      3. 【极度视觉化】：所有的情绪必须通过肢体动作表现（如：眼尾发红、猛地将支票砸在脸上、高跟鞋踩碎手机）。
      4. 【情绪过山车】：反派必须极度惹人厌，主角的反击必须干脆利落，爽感直接拉满，绝不憋屈。
      5. 【卡点结尾】：当前片段的最后一句话，必须停在一个强烈的悬念或者新的危机爆发点（Cliffhanger），逼迫观众看下一集。
      6. 【台词要求】：台词必须短促有力，单句尽量不超过15个字，“谈话+行动”推动剧情。
      
      【核心输出禁令】
      7. 绝对禁止在正文中输出由【】或[]包裹的任何提示词标签（如“【黄金三秒】”、“【拒绝水文】”、“【剧本核心设定】”等）。只允许原生输出最纯粹的小说正文！
    
    context_template: |
      【剧本核心设定（人物/套路）】
      {settings}
      
      【前情提要】
      {summaries}
      
      【上一幕卡点（重要！必须紧接此处往下写，不能断层）】
      {recent_content}
      
      【本幕剧情任务】
      - 核心事件：{task_title}
      - 剧情走向：{task_description}
      - 预估字数：{target_words} 字
      - 导演提示/衔接要求：{context_hint}
    
    summary_prompt: |
      请为以下剧本片段生成一句话场记（控制在{max_words}字以内）。
      需要包含：核心冲突点、人物高光时刻、本幕最后留下的钩子/悬念。
    
    decompose_prompt: |
      请将大纲分解为一幕幕紧凑的“短剧剧本”子任务（每幕相当于短剧的1-2集，约1000-2000字）。
      每个子任务必须包含：一个打压/反击的小循环，或者一个揭秘/反转。禁止平淡的过渡集。

  # ============================================
  # 研究报告模式
  # ============================================
  report:
    name: 研究报告
    description: 适用于市场调研、行业分析、技术报告等专业报告
    
    system_prompt: |
      你是一位专业的研究分析师。请根据提供的上下文和任务要求，撰写高质量的研究报告内容。
      
      写作要求：
      1. 逻辑清晰，论证严密
      2. 数据准确，引用规范
      3. 观点客观，分析深入
      4. 结构合理，层次分明
      5. 语言专业，表达准确
      6. 适当使用图表描述（以文字形式说明）
    
    context_template: |
      【报告背景与目标】
      {settings}
      
      【已完成章节摘要】
      {summaries}
      
      【上一节内容（用于衔接）】
      {recent_content}
      
      【当前写作任务】
      - 章节：{task_title}
      - 内容要求：{task_description}
      - 目标字数：{target_words} 字
    
    summary_prompt: |
      请为以下报告章节生成简洁摘要，控制在{max_words}字以内。
      摘要应包含：核心观点、关键数据、主要结论。
    
    decompose_prompt: |
      请将报告章节分解为写作子任务。
      每个子任务应该是一个完整的分析单元，如：背景概述、现状分析、数据呈现、问题讨论、结论建议。

  # ============================================
  # 文章/博客模式
  # ============================================
  article:
    name: 文章/博客
    description: 适用于公众号文章、博客帖子、专栏文章等
    
    system_prompt: |
      你是一位资深的内容创作者。请根据提供的上下文和任务要求，撰写引人入胜的文章内容。
      
      写作要求：
      1. 开篇吸引眼球，能抓住读者注意力
      2. 内容有价值，观点新颖有深度
      3. 语言生动活泼，易于理解
      4. 适当运用小标题、列表等增强可读性
      5. 结尾有力，引发思考或行动
      6. 保持统一的文风和调性
    
    context_template: |
      【文章主题与定位】
      {settings}
      
      【已完成内容摘要】
      {summaries}
      
      【上一部分内容（用于衔接）】
      {recent_content}
      
      【当前写作任务】
      - 部分：{task_title}
      - 内容要求：{task_description}
      - 目标字数：{target_words} 字
    
    summary_prompt: |
      请为以下文章段落生成简洁摘要，控制在{max_words}字以内。
      摘要应包含：核心论点、关键案例、主要观点。
    
    decompose_prompt: |
      请将文章内容分解为写作子任务。
      每个子任务应该是一个完整的内容单元，如：引子、论点1、论点2、案例分析、总结升华。

  # ============================================
  # 技术文档模式
  # ============================================
  document:
    name: 技术文档
    description: 适用于产品手册、API文档、用户指南、教程等
    
    system_prompt: |
      你是一位专业的技术文档工程师。请根据提供的上下文和任务要求，撰写清晰准确的技术文档。
      
      写作要求：
      1. 结构清晰，便于查阅
      2. 描述准确，无歧义
      3. 步骤完整，易于跟随
      4. 适当使用代码示例（用代码块格式）
      5. 包含必要的注意事项和提示
      6. 术语一致，符合行业规范
    
    context_template: |
      【文档背景与范围】
      {settings}
      
      【已完成章节索引】
      {summaries}
      
      【上一节内容（用于衔接）】
      {recent_content}
      
      【当前写作任务】
      - 章节：{task_title}
      - 内容要求：{task_description}
      - 目标字数：{target_words} 字
    
    summary_prompt: |
      请为以下技术文档章节生成简洁摘要，控制在{max_words}字以内。
      摘要应包含：涵盖的功能、核心概念、关键步骤。
    
    decompose_prompt: |
      请将文档章节分解为写作子任务。
      每个子任务应该是一个完整的功能单元，如：概述、前置条件、操作步骤、示例代码、常见问题。

  # ============================================
  # 自定义模式（用户可覆盖）
  # ============================================
  custom:
    name: 自定义
    description: 用户自定义模式，可在大纲文件中覆盖所有配置
    
    system_prompt: |
      请根据提供的上下文和任务要求，生成高质量的内容。
      严格按照指定的字数和格式要求完成任务。
    
    context_template: |
      【背景信息】
      {settings}
      
      【已完成内容】
      {summaries}
      
      【上文内容】
      {recent_content}
      
      【当前任务】
      - 任务：{task_title}
      - 要求：{task_description}
      - 字数：{target_words} 字
    
    summary_prompt: |
      请为以下内容生成简洁摘要，控制在{max_words}字以内。
    
    decompose_prompt: |
      请将内容分解为写作子任务，每个子任务约2000-3000字。

# 默认模式
default_mode: novel
